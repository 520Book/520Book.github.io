import{_ as e,r as t,o as i,c as o,a as s,b as n,d as l,e as p}from"./app.678d7e92.js";const c={},u=s("h1",{id:"jq",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#jq","aria-hidden":"true"},"#"),n(" jq")],-1),r=s("h1",{id:"\u6982\u8FF0",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6982\u8FF0","aria-hidden":"true"},"#"),n(" \u6982\u8FF0")],-1),d={href:"https://github.com/stedolan/jq",target:"_blank",rel:"noopener noreferrer"},v=s("code",null,"stedolan",-1),b=s("code",null,"\u547D\u4EE4\u884CJSON\u5904\u7406\u5668",-1),m=s("code",null,".",-1),k=s("code",null,"jq",-1),q=p(`<div class="custom-container danger"><p class="custom-container-title">\u6CE8\u610F jq\u5F53\u524D\u4EC5\u652F\u630164\u4F4D\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u3002 :::</p><h1 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h1><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u67E5\u770Bjq\u5305\u662F\u5426\u5B58\u5728</span>
yum list jq

<span class="token comment"># \u5B89\u88C5jq</span>
yum <span class="token function">install</span> jq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a> \u8BED\u6CD5</h1><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>jq <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token operator">&lt;</span>jq filter<span class="token operator">&gt;</span> <span class="token punctuation">[</span>file<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
jq <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token parameter variable">--args</span> <span class="token operator">&lt;</span>jq filter<span class="token operator">&gt;</span> <span class="token punctuation">[</span>strings<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
jq <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token parameter variable">--jsonargs</span> <span class="token operator">&lt;</span>jq filter<span class="token operator">&gt;</span> <span class="token punctuation">[</span>JSON_TEXTS<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#\u9009\u9879" aria-hidden="true">#</a> \u9009\u9879</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token parameter variable">-c</span>               \u7D27\u51D1\u800C\u4E0D\u662F\u6F02\u4EAE\u7684\u8F93\u51FA<span class="token punctuation">;</span>
<span class="token parameter variable">-n</span>               \u4F7F\u7528<span class="token variable"><span class="token variable">\`</span>null<span class="token variable">\`</span></span>\u4F5C\u4E3A\u5355\u4E2A\u8F93\u5165\u503C<span class="token punctuation">;</span>
<span class="token parameter variable">-e</span>               \u6839\u636E\u8F93\u51FA\u8BBE\u7F6E\u9000\u51FA\u72B6\u6001\u4EE3\u7801<span class="token punctuation">;</span>
<span class="token parameter variable">-s</span>               \u5C06\u6240\u6709\u8F93\u5165\u8BFB\u53D6\uFF08\u5438\u53D6\uFF09\u5230\u6570\u7EC4\u4E2D\uFF1B\u5E94\u7528\u8FC7\u6EE4\u5668<span class="token punctuation">;</span>
<span class="token parameter variable">-r</span>               \u8F93\u51FA\u539F\u59CB\u5B57\u7B26\u4E32\uFF0C\u800C\u4E0D\u662FJSON\u6587\u672C<span class="token punctuation">;</span>
<span class="token parameter variable">-R</span>               \u8BFB\u53D6\u539F\u59CB\u5B57\u7B26\u4E32\uFF0C\u800C\u4E0D\u662FJSON\u6587\u672C<span class="token punctuation">;</span>
<span class="token parameter variable">-C</span>               \u4E3AJSON\u7740\u8272<span class="token punctuation">;</span>
<span class="token parameter variable">-M</span>               \u5355\u8272\uFF08\u4E0D\u8981\u4E3AJSON\u7740\u8272\uFF09<span class="token punctuation">;</span>
<span class="token parameter variable">-S</span>               \u5728\u8F93\u51FA\u4E0A\u6392\u5E8F\u5BF9\u8C61\u7684\u952E<span class="token punctuation">;</span>
<span class="token parameter variable">--tab</span>            \u4F7F\u7528\u5236\u8868\u7B26\u8FDB\u884C\u7F29\u8FDB<span class="token punctuation">;</span>
<span class="token parameter variable">--arg</span> a <span class="token function">v</span>        \u5C06\u53D8\u91CF<span class="token variable">$a</span>\u8BBE\u7F6E\u4E3Avalue<span class="token operator">&lt;</span>v<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token parameter variable">--argjson</span> a <span class="token function">v</span>    \u5C06\u53D8\u91CF<span class="token variable">$a</span>\u8BBE\u7F6E\u4E3AJSON value<span class="token operator">&lt;</span>v<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token parameter variable">--slurpfile</span> a f  \u5C06\u53D8\u91CF<span class="token variable">$a</span>\u8BBE\u7F6E\u4E3A\u4ECE<span class="token operator">&lt;</span>f<span class="token operator">&gt;</span>\u8BFB\u53D6\u7684JSON\u6587\u672C\u6570\u7EC4<span class="token punctuation">;</span>
<span class="token parameter variable">--rawfile</span> a f    \u5C06\u53D8\u91CF<span class="token variable">$a</span>\u8BBE\u7F6E\u4E3A\u5305\u542B<span class="token operator">&lt;</span>f<span class="token operator">&gt;</span>\u5185\u5BB9\u7684\u5B57\u7B26\u4E32<span class="token punctuation">;</span>
<span class="token parameter variable">--args</span>           \u5176\u4F59\u53C2\u6570\u662F\u5B57\u7B26\u4E32\u53C2\u6570\uFF0C\u800C\u4E0D\u662F\u6587\u4EF6<span class="token punctuation">;</span>
<span class="token parameter variable">--jsonargs</span>       \u5176\u4F59\u7684\u53C2\u6570\u662FJSON\u53C2\u6570\uFF0C\u800C\u4E0D\u662F\u6587\u4EF6<span class="token punctuation">;</span>
--               \u7EC8\u6B62\u53C2\u6570\u5904\u7406<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F8B\u5B50" tabindex="-1"><a class="header-anchor" href="#\u4F8B\u5B50" aria-hidden="true">#</a> \u4F8B\u5B50</h3><p><code>.</code>: \u4EE5\u6F02\u4EAE\u7684\u65B9\u5F0F\u8F93\u51FA</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;{ &quot;foo&quot;: { &quot;bar&quot;: { &quot;baz&quot;: 123 } } }&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.&#39;</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;foo&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;bar&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;baz&quot;</span><span class="token builtin class-name">:</span> <span class="token number">123</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.foo, .foo.bar, .foo?</code>: \u83B7\u53D6\u4E00\u4E2A\u952E\u7684\u503C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;{&quot;foo&quot;: 42, &quot;bar&quot;: &quot;less interesting data&quot;}&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.foo&#39;</span>
<span class="token number">42</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.[], .[]?, .[2], .[10:15]</code>: \u6570\u7EC4\u8FD0\u7B97</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;[{&quot;name&quot;:&quot;JSON&quot;, &quot;good&quot;:true}, {&quot;name&quot;:&quot;XML&quot;, &quot;good&quot;:false}]&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.[1]&#39;</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;XML&quot;</span>,
  <span class="token string">&quot;good&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>[], {}</code>: \u6784\u9020\u4E00\u4E2A\u6570\u7EC4/\u5BF9\u8C61</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;{&quot;user&quot;:&quot;stedolan&quot;,&quot;titles&quot;:[&quot;JQ Primer&quot;, &quot;More JQ&quot;]}&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;{user, title: .titles[]}&#39;</span>

<span class="token punctuation">{</span>
  <span class="token string">&quot;user&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;stedolan&quot;</span>,
  <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;JQ Primer&quot;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;user&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;stedolan&quot;</span>,
  <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;More JQ&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>length</code>: \u8BA1\u7B97\u4E00\u4E2A\u503C\u7684\u957F\u5EA6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;[[1,2], &quot;string&quot;, {&quot;a&quot;:2}, null]&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.[] | length&#39;</span>                                  
<span class="token number">2</span>
<span class="token number">6</span>
<span class="token number">1</span>
<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>keys</code>: \u53D6\u51FA\u6570\u7EC4\u4E2D\u7684\u952E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;{&quot;abc&quot;: 1, &quot;abcd&quot;: 2, &quot;Foo&quot;: 3}&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;keys&#39;</span>                                        
<span class="token punctuation">[</span>
  <span class="token string">&quot;Foo&quot;</span>,
  <span class="token string">&quot;abc&quot;</span>,
  <span class="token string">&quot;abcd&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>,</code>: \u4F7F\u7528\u591A\u4E2A\u8FC7\u6EE4\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;{ &quot;foo&quot;: 42, &quot;bar&quot;: &quot;something else&quot;, &quot;baz&quot;: true}&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.foo, .bar&#39;</span> 
<span class="token number">42</span>
<span class="token string">&quot;something else&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>|</code>: \u901A\u8FC7\u7BA1\u9053\u5C06\u4E00\u4E2A\u8FC7\u6EE4\u5668\u7684\u8F93\u51FA\u5F53\u505A\u4E0B\u4E00\u4E2A\u8FC7\u6EE4\u5668\u7684\u8F93\u5165</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;[{&quot;name&quot;:&quot;JSON&quot;, &quot;good&quot;:true}, {&quot;name&quot;:&quot;XML&quot;, &quot;good&quot;:false}]&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;.[] | .name&#39;</span>                                                 
<span class="token string">&quot;JSON&quot;</span>
<span class="token string">&quot;XML&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>select(foo)</code>: \u5982\u679Cfoo\u8FD4\u56DEtrue\uFF0C\u5219\u8F93\u5165\u4FDD\u6301\u4E0D\u53D8</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;[1,5,3,0,7]&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;map(select(. &gt;= 2))&#39;</span>                                                    
<span class="token punctuation">[</span>
  <span class="token number">5</span>,
  <span class="token number">3</span>,
  <span class="token number">7</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map(foo)</code>: \u6BCF\u4E2A\u8F93\u5165\u8C03\u7528\u8FC7\u6EE4\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;[1,2,3]&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;map(.+1)&#39;</span>
<span class="token punctuation">[</span>
  <span class="token number">2</span>,
  <span class="token number">3</span>,
  <span class="token number">4</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>if-then-else-end</code>: \u6761\u4EF6\u5224\u65AD</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> $ <span class="token builtin class-name">echo</span> <span class="token string">&#39;2&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;if . == 0 then &quot;zero&quot; elif . == 1 then &quot;one&quot; else &quot;many&quot; end&#39;</span>

<span class="token string">&quot;many&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>\\(foo)</code>: \u5728\u5B57\u7B26\u4E32\u4E2D\u63D2\u5165\u503C\u5E76\u8FDB\u884C\u8FD0\u7B97</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;42&#39;</span> <span class="token operator">|</span> jq <span class="token string">&#39;&quot;The input was \\(.), which is one less than \\(.+1)&quot;&#39;</span>          

<span class="token string">&quot;The input was 42, which is one less than 43&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,1);function g(h,f){const a=t("ExternalLinkIcon");return i(),o("div",null,[u,r,s("p",null,[s("a",d,[n("jq"),l(a)]),n("\u662F"),v,n("\u5F00\u53D1\u7684\u4E00\u4E2A\u8F7B\u91CF\u7EA7"),b,n("\u3002\u5C06\u7ED9\u5B9A\u8FC7\u6EE4\u5668\u5E94\u7528\u4E8E\u5176JSON\u6587\u672C\u8F93\u5165\u5E76\u5728\u6807\u51C6\u8F93\u51FA\u4E0A\u5C06\u8FC7\u6EE4\u5668\u7684\u7ED3\u679C\u751F\u6210\u4E3AJSON\u3002\u6700\u7B80\u5355\u7684\u8FC7\u6EE4\u5668\u662F"),m,n("\uFF0C\u5B83\u5C06"),k,n("\u7684\u8F93\u5165\u672A\u7ECF\u4FEE\u6539\u5730\u590D\u5236\u5230\u5176\u8F93\u51FA\u4E2D\uFF08\u683C\u5F0F\u8BBE\u7F6E\u9664\u5916\uFF09\u3002")]),q])}const _=e(c,[["render",g],["__file","jq.html.vue"]]);export{_ as default};
