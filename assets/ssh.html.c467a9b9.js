import{_ as c,r as i,o as l,c as h,a as e,b as a,d as s,w as r,e as n}from"./app.678d7e92.js";const u={},p=n('<h1 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h1><h2 id="linux\u5E73\u53F0" tabindex="-1"><a class="header-anchor" href="#linux\u5E73\u53F0" aria-hidden="true">#</a> Linux\u5E73\u53F0</h2><h2 id="windows\u5E73\u53F0" tabindex="-1"><a class="header-anchor" href="#windows\u5E73\u53F0" aria-hidden="true">#</a> Windows\u5E73\u53F0</h2>',3),m={href:"https://learn.microsoft.com/zh-cn/windows-server/administration/openssh/openssh_server_configuration",target:"_blank",rel:"noopener noreferrer"},v=n('<h3 id="\u65B9\u5F0F\u4E00" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F\u4E00" aria-hidden="true">#</a> \u65B9\u5F0F\u4E00</h3><p>\u6253\u5F00<code>\u8BBE\u7F6E</code>\u2192<code>\u5E94\u7528</code>\u2192<code>\u53EF\u9009\u529F\u80FD</code>\uFF0C\u53EF\u4EE5\u770B\u5230<code>OpenSSH</code>\u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u3002\u70B9\u51FB\u5B89\u88C5\u540E\u4F1A\u63D0\u793A\u91CD\u542F\uFF0C\u6587\u4EF6\u4F1A\u653E\u5728<code>C:\\Windows\\System32\\OpenSSH</code>\u3002</p><h3 id="\u65B9\u5F0F\u4E8C" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F\u4E8C" aria-hidden="true">#</a> \u65B9\u5F0F\u4E8C</h3>',3),b={href:"https://github.com/PowerShell/Win32-OpenSSH/releases",target:"_blank",rel:"noopener noreferrer"},g=n(`<p>\u9ED8\u8BA4\u4F1A\u5B89\u88C5\u5728<code>C:\\Program Files\\OpenSSH</code>\u3002\u53EF\u4EE5\u5728PS\u4E2D\u67E5\u770B<code>Get-Service -Name ssh*</code>\u72B6\u6001\uFF0C\u7136\u540E\u5728cmd\u4E2D\u6D4B\u8BD5\u8FDE\u63A5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token parameter variable">-p</span> <span class="token number">22</span> username@localhost
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u7B80\u5355\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5355\u8BF4\u660E" aria-hidden="true">#</a> \u7B80\u5355\u8BF4\u660E</h3><p>\u5B89\u88C5\u6210\u529F\u540E\uFF0C\u4F1A\u6DFB\u52A0<code>sshd</code>\uFF08OpenSSH SSH Server\uFF09\u548C <code>ssh-agent</code>(OpenSSH Authentication Agent)\u4E24\u4E2A\u670D\u52A1\u3002</p><p>\u914D\u7F6E\u6587\u4EF6\u4E3A<code>C:/ProgramData/ssh/sshd_config</code>\u3002</p><h1 id="\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> \u57FA\u672C\u914D\u7F6E</h1><h2 id="\u914D\u7F6E\u9ED8\u8BA4shell" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u9ED8\u8BA4shell" aria-hidden="true">#</a> \u914D\u7F6E\u9ED8\u8BA4Shell</h2>`,7),k=e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[a("New-ItemProperty "),e("span",{class:"token parameter variable"},"-Path"),a(),e("span",{class:"token string"},'"HKLM:\\SOFTWARE\\OpenSSH"'),a(),e("span",{class:"token parameter variable"},"-Name"),a(" DefaultShell "),e("span",{class:"token parameter variable"},"-Value"),a(),e("span",{class:"token string"},[a('"D:\\Git'),e("span",{class:"token entity",title:"\\b"},"\\b"),a("in"),e("span",{class:"token entity",title:"\\b"},"\\b"),a('ash.exe"')]),a(),e("span",{class:"token parameter variable"},"-PropertyType"),a(" String "),e("span",{class:"token parameter variable"},"-Force"),a(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),_=n(`<h2 id="\u4F7F\u7528\u5BC6\u94A5\u6587\u4EF6\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5BC6\u94A5\u6587\u4EF6\u767B\u5F55" aria-hidden="true">#</a> \u4F7F\u7528\u5BC6\u94A5\u6587\u4EF6\u767B\u5F55</h2><p>\u9996\u5148\u751F\u6210\u516C\u94A5\u548C\u79C1\u94A5\u6587\u4EF6\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ssh-keygen <span class="token parameter variable">-C</span> <span class="token string">&quot;Test&quot;</span> <span class="token parameter variable">-t</span> rsa 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u5C06\u751F\u6210<code>id_rsa</code>\uFF08\u79C1\u94A5\uFF09\u548C<code>id_rsa.pub</code>\uFF08\u516C\u94A5\uFF09\u3002\u7136\u540E\u5C06\u516C\u94A5\u66F4\u540D\u4E3A<code>authorized_keys</code>\uFF0C\u653E\u5728\u7528\u6237\u7684SSH\u76EE\u5F55\u4E0B\uFF0C\u6BD4\u5982<code>C:\\Users\\username\\.ssh\\</code>\u3002</p><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>\u6CE8\u610F\u6587\u4EF6\u7684\u7F16\u7801\u4F7F\u7528<code>utf-16</code>\u800C\u975E<code>utf-8</code>\uFF0C\u5426\u5219\u4F1A\u5BFC\u81F4\u516C\u94A5\u8FC7\u957F\u51FA\u73B0 <code>line 1 exceeds size limit</code>\u9519\u8BEF\u3002</p></div><p>\u6253\u5F00<code>sshd</code>\u914D\u7F6E\u6587\u4EF6\uFF0CWindows\u4E3A<code>C:\\ProgramData\\ssh\\sshd.config</code>\uFF0CLinux\u4E3A\u3002</p><p>\u786E\u4FDD\u4EE5\u4E0B3\u6761\u6CA1\u6709\u88AB\u6CE8\u91CA\uFF1A</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code># \u4F7F\u7528\u516C\u94A5
PubkeyAuthentication yes
# \u516C\u94A5\u4F4D\u7F6E
AuthorizedKeysFile .ssh/authorized_keys
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u786E\u4FDD\u4EE5\u4E0B2\u6761\u6709\u6CE8\u91CA\u6389\uFF1A</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>#Match Group administrators
# AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u542F\u670D\u52A1\uFF1A net stop sshd net start sshd</p><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>\u6CE8\u610F\uFF1A\u514D\u5BC6\u767B\u5F55\u7684\u65F6\u5019\u4E5F\u8981\u6307\u5B9A\u7528\u6237\u540D\uFF0C\u6BD4\u5982\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">ssh</span> root@13.75.14.24 <span class="token parameter variable">-p</span> <span class="token number">2809</span> <span class="token parameter variable">-i</span> /d/tencent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h1 id="\u8FDB\u9636" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u9636" aria-hidden="true">#</a> \u8FDB\u9636</h1><h2 id="\u591Assh\u8D26\u53F7\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u591Assh\u8D26\u53F7\u767B\u5F55" aria-hidden="true">#</a> \u591ASSH\u8D26\u53F7\u767B\u5F55</h2><p>\u867D\u7136\u540C\u4E00\u4E2A\u5BC6\u94A5\uFF0C\u53EF\u4EE5\u767B\u5F55\u8BB8\u591A\u4E0D\u540C\u7684\u7F51\u7AD9\uFF0C\u53EA\u8981\u4F7F\u7528\u540C\u4E00\u4E2A\u516C\u94A5\u3002\u4F46\u662F\u5982\u679C\u6211\u4EEC\u60F3\u8981\u751F\u6210\u591A\u7EC4\u4E0D\u540C\u7684\u5BC6\u94A5\u5BF9\uFF0C\u53EF\u4EE5\u5728<code>\u7528\u6237\u540D\\.ssh\\config</code>\u4E2D\u914D\u7F6E\u5982\u4E0B\uFF1A</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code># \u914D\u7F6Egithub.com
Host github.com
  HostName github.com
  IdentityFile C:\\\\Users\\\\purehol\\\\.ssh\\\\rsa_github
  PreferredAuthentications publickey
  User purehol
    
# \u914D\u7F6Egitee.com
Host gitee.com
  HostName gitee.com
  IdentityFile C:\\\\Users\\\\purehol\\\\.ssh\\\\rsa_gitee
  PreferredAuthentications publickey
  User purehol
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>Host</td><td>\u53EF\u4EE5\u4EFB\u610F\u53D6\u3002\u6CE8\u610F\uFF1A<code>\u4F1A\u5F71\u54CDgit\u76F8\u5173\u547D\u4EE4\u3002</code></td></tr><tr><td>HostName</td><td>\u771F\u5B9E\u7684\u57DF\u540D\u5730\u5740</td></tr><tr><td>IdentityFile</td><td>\u5BC6\u94A5\u6587\u4EF6\u7684\u8DEF\u5F84</td></tr><tr><td>PreferredAuthentications</td><td>\u767B\u5F55\u65F6\u6743\u9650\u8BA4\u8BC1\u65B9\u5F0F\uFF0C\u53EF\u8BBE\u4E3A<code>publickey</code>\u3001<code>password publickey</code>\u3001<code>keyboard-interactive</code>\u7B49</td></tr><tr><td>User</td><td>\u914D\u7F6E\u4F7F\u7528\u7528\u6237\u540D</td></tr></tbody></table><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u6D4B\u8BD5\u8FDE\u63A5</span>
<span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com
Hi 520Book<span class="token operator">!</span> You&#39;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u5E38\u89C1\u9519\u8BEF" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u9519\u8BEF" aria-hidden="true">#</a> \u5E38\u89C1\u9519\u8BEF</h1><h2 id="remote-host-identification-has-changed" tabindex="-1"><a class="header-anchor" href="#remote-host-identification-has-changed" aria-hidden="true">#</a> REMOTE HOST IDENTIFICATION HAS CHANGED!</h2><p>\u5728\u4F7F\u7528SSH\u8FDE\u63A5\u65F6\uFF0C\u4F1A\u5728\u672C\u5730\u751F\u6210\u4E00\u4E2A\u8BA4\u8BC1\uFF0C\u50A8\u5B58\u5728<code>known_hosts</code>\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E0B\u547D\u4EE4\u67E5\u770B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ssh-keygen <span class="token parameter variable">-l</span> <span class="token parameter variable">-f</span> ~/.ssh/known_hosts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u89E3\u51B3\u529E\u6CD5\u5C31\u662F\u627E\u5230\u4E0A\u9762\u4F60\u7684IP\uFF0C\u6267\u884C\u4E0B\u5217\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ssh-keygen <span class="token parameter variable">-R</span> <span class="token number">35.12</span>.21.52
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="unprotected-private-key-file" tabindex="-1"><a class="header-anchor" href="#unprotected-private-key-file" aria-hidden="true">#</a> UNPROTECTED PRIVATE KEY FILE!</h2><p>\u4F7F\u7528\u5BC6\u94A5\u767B\u5F55\u7684\u65F6\u5019\uFF0C<code>ssh</code>\u5BF9\u68C0\u67E5\u5BC6\u94A5\u6587\u4EF6\u7684\u6743\u9650\uFF0C\u5982\u679C\u6743\u9650\u592A\u9AD8\uFF0C\u5C31\u4F1A\u63D0\u793A\u9519\u8BEF\u3002\u4FEE\u6B63\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">600</span> /opt/key.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,27);function f(x,S){const d=i("ExternalLinkIcon"),t=i("CodeGroupItem"),o=i("CodeGroup");return l(),h("div",null,[p,e("p",null,[a("\u53EF\u4EE5\u67E5\u770B"),e("a",m,[a("Windows\u5B98\u7F51\u53C2\u8003\u6587\u6863"),s(d)])]),v,e("p",null,[a("\u9996\u5148\u5728"),e("a",b,[a("Github"),s(d)]),a("\u4E0B\u8F7D\u53EF\u6267\u884C\u6587\u4EF6\u3002")]),g,s(o,null,{default:r(()=>[s(t,{title:"Linux"}),s(t,{title:"Windows"},{default:r(()=>[k]),_:1})]),_:1}),_])}const H=c(u,[["render",f],["__file","ssh.html.vue"]]);export{H as default};
